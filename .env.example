# =============================================================================
# Researcher Agent - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# -----------------------------------------------------------------------------
# LLM Provider API Keys
# -----------------------------------------------------------------------------

# Anthropic (Claude) - Required for high-quality extractions
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI - Required for embeddings
OPENAI_API_KEY=your_openai_api_key_here

# LangSmith - Optional, for LLM call tracing and debugging
LANGSMITH_API_KEY=your_langsmith_api_key_here

# -----------------------------------------------------------------------------
# Ollama Configuration (Self-Hosted LLM)
# -----------------------------------------------------------------------------

# Enable Ollama (set to true when VM is ready)
OLLAMA_ENABLED=false

# Ollama Server URL
# Option 1: SSH Tunnel (recommended)
#   Run: ssh -L 11434:localhost:11434 -N user@your-vm-ip
#   Then use: http://localhost:11434
# Option 2: Direct connection (if VM on same network)
#   Use: http://your-vm-ip:11434
OLLAMA_BASE_URL=http://localhost:11434

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

# PostgreSQL connection
DB_HOST=localhost
DB_PORT=5432
DB_NAME=researcher_agent
DB_USER=postgres
DB_PASSWORD=your_db_password_here

# Enable pgvector extension (must be installed on PostgreSQL server)
DB_ENABLE_VECTOR=true

# -----------------------------------------------------------------------------
# Message Queue Configuration
# -----------------------------------------------------------------------------

# RabbitMQ connection
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# -----------------------------------------------------------------------------
# External Data Source API Keys
# -----------------------------------------------------------------------------

# Kaggle API (for notebook fetcher)
KAGGLE_USERNAME=your_kaggle_username
KAGGLE_KEY=your_kaggle_api_key

# Google Search API (for web search fetcher)
GOOGLE_SEARCH_API_KEY=your_google_search_api_key
GOOGLE_SEARCH_ENGINE_ID=your_search_engine_id

# Alternative: Serper API (cheaper option for web search)
# SERPER_API_KEY=your_serper_api_key

# -----------------------------------------------------------------------------
# Email Configuration (for digest delivery)
# -----------------------------------------------------------------------------

SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
EMAIL_FROM=your_email@example.com
EMAIL_TO=your_email@example.com
EMAIL_PASSWORD=your_app_specific_password

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------

# Environment (dev, prod)
ENVIRONMENT=dev

# Application host and port
APP_HOST=0.0.0.0
APP_PORT=8000

# Debug mode (true in dev, false in prod)
DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Airflow Configuration
# -----------------------------------------------------------------------------

# Airflow database (uses same PostgreSQL as main app)
AIRFLOW_DB_HOST=localhost
AIRFLOW_DB_PORT=5432
AIRFLOW_DB_NAME=airflow
AIRFLOW_DB_USER=airflow
AIRFLOW_DB_PASSWORD=airflow

# Airflow admin user
AIRFLOW_ADMIN_USERNAME=admin
AIRFLOW_ADMIN_PASSWORD=admin
AIRFLOW_ADMIN_EMAIL=admin@example.com

# -----------------------------------------------------------------------------
# Cost and Rate Limiting
# -----------------------------------------------------------------------------

# Daily cost caps (USD)
ANTHROPIC_COST_CAP_DAILY=50.0
OPENAI_COST_CAP_DAILY=10.0

# Rate limits (requests per minute)
ANTHROPIC_RATE_LIMIT_RPM=50
OPENAI_RATE_LIMIT_RPM=500
OLLAMA_RATE_LIMIT_RPM=10

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------

# Enable specific fetchers
ENABLE_ARXIV_FETCHER=true
ENABLE_KAGGLE_FETCHER=true
ENABLE_HUGGINGFACE_FETCHER=true
ENABLE_WEB_SEARCH_FETCHER=true

# Enable learning/feedback system
ENABLE_LEARNING_SERVICE=true

# Enable LangSmith tracing
ENABLE_LANGSMITH=true
